<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <PackageId>Xamarin.Android.App.Ref</PackageId>
    <PackageVersion>0.0.1</PackageVersion>
    <Authors>Microsoft</Authors>
    <Description>Xamarin.Android reference assemblies. Please do not reference directly.</Description>
    <OutputPath>..\..\bin\Build$(Configuration)</OutputPath>
    <IncludeBuildOutput>false</IncludeBuildOutput>
  </PropertyGroup>

  <PropertyGroup>
    <BeforePack>
      _GatherTargetingPackContent;
      _GenerateFrameworkListFile;
      $(BeforePack);
    </BeforePack>
  </PropertyGroup>

 <!-- https://github.com/dotnet/runtime/blob/0647ec314948904319da5eb15e9931f7c85ed1e2/src/installer/pkg/projects/Directory.Build.targets#L281 -->
  <Target Name="_GatherTargetingPackContent" >

    <!-- Hardcode pack content for now -->
    <ItemGroup>
      <Content Include="$(XamarinAndroidSourcePath)bin\$(Configuration)\lib\xamarin.android\xbuild-frameworks\MonoAndroid\v10.0\AndroidApiInfo.xml">
        <Pack>true</Pack>
        <PackagePath>data\</PackagePath>
      </Content>
      <Content Include="@(XAPackAssemblies)" >
        <Pack>true</Pack>
        <PackagePath>ref\netcoreapp5.0</PackagePath>
        <TargetPath>ref\netcoreapp5.0</TargetPath>
      </Content>
    </ItemGroup>
  
    <PropertyGroup>
      <FrameworkListFilename Condition="'$(FrameworkListFilename)' == ''">FrameworkList.xml</FrameworkListFilename>
      <FrameworkListFile>$(IntermediateOutputPath)$(FrameworkListFilename)</FrameworkListFile>
    </PropertyGroup>

  </Target>

</Project>
